{% extends 'posting/layout.html.twig' %}

{% block title %}Категория: {{ category.name }}{% endblock %}

{% block javascripts %}
    {{ parent() }}
    {{ encore_entry_script_tags('posting-js') }}
{% endblock %}

{% block posting_content %}
    <div class="posting-header">
        <div>
            <strong>{{ category.name }}</strong> {{ category.sum | app_money }}
        </div>
    </div>
    <div class="posting-container">
        <div class="wrapper-form-add-payment">
            <div class="wrapper-btn">
                <button class="btn header-btn btn-toggle" id="collapsed-form-add">
                    <div>Внести платёж</div>
                    <div class="character">+</div>
                </button>
            </div>
            <div class="form-container collapsed">
                {{ form(form) }}
            </div>
        </div>
        <div class="wrapper-posting-list">
            <div class="posting-list-header">
                <div>Дата платежа</div>
                <div>Сумма</div>
                <div>Операция</div>
            </div>
            <div class="posting-list">
                {% for posting in postings %}
                    <div class="posting-item">
                        <div class="posting-info">
                            <div>{{ posting.dateOperation | date('d.m.Y') }}</div>
                            <div>{{ posting.money | app_money }}</div>
                            <div>{{ posting_type(posting) }}</div>
                        </div>
                        {% if posting.comment is not null %}
                            <div class="posting-comment">
                                <span>{{ posting.comment.comment }}</span>
                            </div>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>
        </div>
    </div>
{% endblock %}
